<!DOCTYPE html>

<html class="dark" lang="en">

<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <title>CLOCHE Boutique Owner Dashboard</title>
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <link
    href="https://fonts.googleapis.com/css2?family=Noto+Serif:wght@400;700;900&amp;family=Noto+Sans:wght@400;500;700&amp;display=swap"
    rel="stylesheet" />
  <link
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap"
    rel="stylesheet" />
  <link
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap"
    rel="stylesheet" />
  <script id="tailwind-config">
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            "primary": "#c1a671",
            "background-light": "#f7f6f2",
            "background-dark": "#0d0d0d",
            "surface-dark": "#1a1a1a",
          },
          fontFamily: {
            "display": ["Noto Serif", "serif"],
            "sans": ["Noto Sans", "sans-serif"]
          },
          borderRadius: {
            "DEFAULT": "0.5rem",
            "lg": "1rem",
            "xl": "1.5rem",
            "full": "9999px"
          },
        },
      },
    }
  </script>
  <style>
    .material-symbols-outlined {
      font-variation-settings: 'FILL' 0, 'wght' 300, 'GRAD' 0, 'opsz' 24;
    }

    .glass-card {
      background: rgba(26, 26, 26, 0.6);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(193, 166, 113, 0.15);
    }

    .sidebar-item-active {
      background: linear-gradient(90deg, rgba(193, 166, 113, 0.1) 0%, rgba(193, 166, 113, 0) 100%);
      border-left: 3px solid #c1a671;
    }

    .gold-glow {
      box-shadow: 0 0 20px rgba(193, 166, 113, 0.1);
    }

    .custom-scrollbar::-webkit-scrollbar {
      width: 4px;
    }

    .custom-scrollbar::-webkit-scrollbar-track {
      background: #0d0d0d;
    }

    .custom-scrollbar::-webkit-scrollbar-thumb {
      background: #3e382d;
      border-radius: 10px;
    }
  </style>
</head>

<body
  class="bg-background-light dark:bg-background-dark font-display text-slate-900 dark:text-slate-100 min-h-screen overflow-x-hidden">
  <div class="flex min-h-screen w-full overflow-hidden">
    <!-- Sidebar Navigation -->
    <aside class="w-72 bg-background-dark border-r border-primary/10 flex flex-col z-20 shrink-0 h-screen">
      <div class="p-8 flex items-center gap-4 shrink-0">
        <div
          class="h-10 w-10 bg-primary rounded-full flex items-center justify-center text-background-dark font-bold text-xl">
          C</div>
        <div>
          <h1 class="text-primary text-xl font-black tracking-widest uppercase leading-none">CLOCHE</h1>
          <p class="text-primary/60 text-[10px] tracking-[0.2em] uppercase font-sans mt-1">Boutique Management</p>
        </div>
      </div>

      <nav class="flex-1 px-4 py-6 space-y-2 font-sans overflow-y-auto custom-scrollbar">
        <!-- Home -->
        <a class="flex items-center gap-4 px-4 py-3 text-slate-400 hover:text-primary transition-colors group"
          href="index.html">
          <span class="material-symbols-outlined">home</span>
          <span class="text-sm font-medium tracking-wide">Home</span>
        </a>
        <a class="sidebar-item-active flex items-center gap-4 px-4 py-3 text-primary group" href="dashboard.html">
          <span class="material-symbols-outlined fill-1">dashboard</span>
          <span class="text-sm font-medium tracking-wide">Dashboard</span>
        </a>
        <a class="flex items-center gap-4 px-4 py-3 text-slate-400 hover:text-primary transition-colors group"
          href="lead.html">
          <span class="material-symbols-outlined">group</span>
          <span class="text-sm font-medium tracking-wide">Leads</span>
        </a>
        <a class="flex items-center gap-4 px-4 py-3 text-slate-400 hover:text-primary transition-colors group"
          href="boutiqueproducts.html">
          <span class="material-symbols-outlined">inventory_2</span>
          <span class="text-sm font-medium tracking-wide">Products</span>
        </a>
        <a id="messagesLink"
          class="flex items-center gap-4 px-4 py-3 text-slate-400 hover:text-primary transition-colors group"
          href="messages.html">
          <span class="material-symbols-outlined">chat_bubble</span>
          <span class="text-sm font-medium tracking-wide">Messages</span>
        </a>
        <a class="flex items-center gap-4 px-4 py-3 text-slate-400 hover:text-primary transition-colors group"
          href="subscription.html">
          <span class="material-symbols-outlined">star</span>
          <span class="text-sm font-medium tracking-wide">Subscription</span>
        </a>
        <a class="flex items-center gap-4 px-4 py-3 text-slate-400 hover:text-primary transition-colors group"
          href="profile.html">
          <span class="material-symbols-outlined">settings</span>
          <span class="text-sm font-medium tracking-wide">Settings</span>
        </a>
      </nav>

      <!-- Profile Card -->
      <div class="shrink-0 p-4">
        <div class="glass-card rounded-xl p-4 flex items-center gap-4 border border-primary/20">
          <!-- Avatar -->
          <div id="avatarCircle" class="w-12 h-12 rounded-full bg-primary/90 text-background-dark
           flex items-center justify-center font-display font-bold text-xl shadow-md shrink-0">
            S
          </div>

          <!-- Name + Boutique -->
          <div class="flex-1 overflow-hidden">
            <p id="ownerName" class="text-sm font-semibold text-white leading-tight truncate">
              Owner Name
            </p>
            <p id="sidebarBoutiqueName" class="text-[11px] uppercase tracking-widest text-primary/80 truncate">
              Boutique Name
            </p>
          </div>
        </div>

        <!-- Divider -->
        <div class="my-4 h-px bg-primary/10"></div>

        <!-- Logout -->
        <button onclick="logout()" class="w-full flex items-center gap-3 px-4 py-3 rounded-lg
         text-sm font-semibold text-slate-400
         hover:text-primary hover:bg-primary/10
         transition-all duration-300">
          <span class="material-symbols-outlined text-base">logout</span>
          Logout
        </button>
      </div>
    </aside>
    <!-- Main Content Area -->
    <main class="flex-1 flex flex-col relative overflow-y-auto overflow-x-hidden max-w-full">
      <!-- Background Decorative Element -->
      <div
        class="absolute top-0 right-0 w-1/2 h-1/2 bg-primary/5 blur-[120px] rounded-full -translate-y-1/2 translate-x-1/2 -z-10">
      </div>
      <!-- Header -->
      <header class="p-8 flex justify-between items-end">
        <div>
          <h2 class="text-4xl font-black tracking-tight text-white mb-1">Dashboard Overview</h2>
          <p id="boutiqueName" class="text-slate-400 font-sans text-sm tracking-wide">Welcome back to your atelier,
            Madam Vance.</p>
        </div>
        <div class="flex gap-4">
          <button
            class="bg-surface-dark border border-primary/20 text-slate-300 px-6 py-2.5 rounded-lg text-sm font-medium hover:bg-primary/10 transition-all flex items-center gap-2">
            <span class="material-symbols-outlined text-sm">download</span>
            Export Reports
          </button>
          <button
            class="bg-primary text-background-dark px-6 py-2.5 rounded-lg text-sm font-bold hover:opacity-90 transition-all flex items-center gap-2">
            <span class="material-symbols-outlined text-sm">add</span>
            New Collection
          </button>
        </div>
      </header>
      <!-- KPI Grid -->
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 px-8 mb-8 max-w-full">
        <!-- Stat Card 1 -->
        <div class="glass-card p-8 rounded-xl gold-glow relative overflow-hidden group">
          <div class="absolute top-0 right-0 p-4 text-primary/10 group-hover:text-primary/20 transition-colors">
            <span class="material-symbols-outlined text-6xl">insights</span>
          </div>
          <p class="text-slate-400 text-xs font-sans uppercase tracking-[0.2em] mb-4">Total Leads Received</p>
          <div class="flex items-baseline gap-3">
            <h3 id="totalLeads" class="text-5xl font-bold text-white tracking-tighter">1,248</h3>
            <span class="text-emerald-400 text-sm font-bold bg-emerald-400/10 px-2 py-0.5 rounded">+12%</span>
          </div>
          <div class="mt-6 h-1 w-full bg-slate-800 rounded-full overflow-hidden">
            <div class="h-full bg-primary rounded-full w-[72%] shadow-[0_0_10px_#c1a671]"></div>
          </div>
        </div>
        <!-- Stat Card 2 -->
        <div class="glass-card p-8 rounded-xl relative overflow-hidden">
          <p class="text-slate-400 text-xs uppercase tracking-[0.25em] mb-2">
            Active Plan
          </p>
          <h3 id="planName" class="text-3xl font-display font-bold text-primary tracking-tight">
            Couture Tier
          </h3>
          <p id="activePlan" class="mt-1 text-sm italic text-slate-400">
            Basic
          </p>
          <div class="mt-6 border-t border-primary/10 pt-4 space-y-3">
            <div class="flex items-center justify-between text-xs">
              <span class="uppercase tracking-widest text-slate-500">
                Leads Used
              </span>
              <span class="font-bold text-primary">
                <span id="leadsUsed">0</span> / <span id="leadsLimit">5</span>
              </span>
            </div>
            <div class="flex items-center justify-between text-xs">
              <span class="uppercase tracking-widest text-slate-500">
                Messages Used
              </span>
              <span class="font-bold text-primary">
                <span id="messagesUsed">0</span> / <span id="messagesLimit">5</span>
              </span>
            </div>
            <div class="flex items-center justify-between text-xs">
              <span class="uppercase tracking-widest text-slate-500">
                Products Added
              </span>
              <span class="font-bold text-primary">
                <span id="productsUsed">0</span> / <span id="productsLimit">3</span>
              </span>
            </div>
          </div>
        </div>
        <!-- Stat Card 3 - Progress Circle Card -->
        <div class="glass-card p-8 rounded-xl flex flex-col items-center justify-center">
          <div class="space-y-2 text-center mb-6">
            <p id="leadsRemaining" class="text-slate-400 text-xs font-sans uppercase tracking-[0.2em]">Leads Remaining
            </p>
            <h3 id="leadsRemainingCount" class="text-3xl font-bold text-white tracking-tight">5 <span
                class="text-slate-500 text-base font-normal" id="leadsTotal">/ 5</span></h3>
            <p id="quotaMessage" class="text-slate-500 text-xs font-sans">Quota resets in 12 days</p>
          </div>
          <div class="relative w-24 h-24">
            <svg class="w-full h-full -rotate-90">
              <circle class="text-slate-800" cx="48" cy="48" fill="transparent" r="40" stroke="currentColor"
                stroke-width="8"></circle>
              <circle id="progressCircle" class="text-primary" cx="48" cy="48" fill="transparent" r="40"
                stroke="currentColor" stroke-dasharray="251.2" stroke-dashoffset="251.2" stroke-width="8"></circle>
            </svg>
            <div class="absolute inset-0 flex items-center justify-center">
              <span id="progressPercent" class="text-sm font-bold text-white">0%</span>
            </div>
          </div>
        </div>
      </div>
      <!-- Chart and Details Section -->
      <div class="px-8 pb-12 flex flex-col lg:flex-row gap-6">
        <!-- Performance Chart -->
        <div class="glass-card flex-grow rounded-xl p-8">
          <div class="flex justify-between items-center mb-10">
            <div>
              <h4 class="text-xl font-bold text-white mb-1">Monthly Performance</h4>
              <p class="text-slate-400 text-xs font-sans tracking-wide">Lead acquisition trends over the last 6 months
              </p>
            </div>
            <div class="flex items-center gap-2 text-primary font-bold">
              <span class="material-symbols-outlined">trending_up</span>
              <span>+15% Growth</span>
            </div>
          </div>
          <div class="relative h-[300px] w-full mt-4 overflow-hidden">
            <svg class="w-full h-full" preserveaspectratio="none" viewbox="0 0 500 200">
              <defs>
                <lineargradient id="chartGradient" x1="0" x2="0" y1="0" y2="1">
                  <stop offset="0%" stop-color="#c1a671" stop-opacity="0.3"></stop>
                  <stop offset="100%" stop-color="#c1a671" stop-opacity="0"></stop>
                </lineargradient>
              </defs>
              <path d="M0,150 Q50,140 100,100 T200,80 T300,120 T400,40 T500,60 L500,200 L0,200 Z"
                fill="url(#chartGradient)"></path>
              <path d="M0,150 Q50,140 100,100 T200,80 T300,120 T400,40 T500,60" fill="none" stroke="#c1a671"
                stroke-width="3"></path>
            </svg>
            <div class="flex justify-between mt-6 px-2 text-[10px] font-sans uppercase tracking-[0.2em] text-slate-500">
              <span>Jan</span>
              <span>Feb</span>
              <span>Mar</span>
              <span>Apr</span>
              <span>May</span>
              <span>Jun</span>
            </div>
          </div>
        </div>
        <!-- Side Widget: Recent Activity -->
        <div class="glass-card w-full lg:w-80 rounded-xl p-8 flex flex-col">
          <h4 class="text-xl font-bold text-white mb-6">Recent Activity</h4>
          <div class="space-y-6 flex-1">
            <div class="flex gap-4">
              <div class="h-10 w-10 rounded bg-primary/10 flex items-center justify-center text-primary shrink-0">
                <span class="material-symbols-outlined">person_add</span>
              </div>
              <div>
                <p class="text-sm text-slate-200">New lead from <strong>Instagram</strong></p>
                <p class="text-xs text-slate-500 font-sans mt-0.5">2 minutes ago</p>
              </div>
            </div>
            <div class="flex gap-4">
              <div class="h-10 w-10 rounded bg-primary/10 flex items-center justify-center text-primary shrink-0">
                <span class="material-symbols-outlined">payments</span>
              </div>
              <div>
                <p class="text-sm text-slate-200">Subscription renewed for <strong>July</strong></p>
                <p class="text-xs text-slate-500 font-sans mt-0.5">3 hours ago</p>
              </div>
            </div>
            <div class="flex gap-4">
              <div class="h-10 w-10 rounded bg-primary/10 flex items-center justify-center text-primary shrink-0">
                <span class="material-symbols-outlined">inventory</span>
              </div>
              <div>
                <p class="text-sm text-slate-200">Inventory alert: <strong>Silk Scarves</strong></p>
                <p class="text-xs text-slate-500 font-sans mt-0.5">Yesterday</p>
              </div>
            </div>
          </div>
          <button
            class="w-full mt-10 py-3 border border-primary/20 rounded-lg text-xs font-bold uppercase tracking-widest text-primary hover:bg-primary/5 transition-all">
            View All Activity
          </button>
        </div>
      </div>

      
    </main>
  </div>
  <script>
    // Plan Configuration
    const planConfig = {
      "basic": {
        name: "Couture Tier",
        displayName: "Basic",
        maxLeads: 5,
        maxMessages: 5,
        maxProducts: 3,
        features: ["3 Products Upload", "5 Free Leads", "5 Messages"]
      },
      "professional": {
        name: "Atelier Plus",
        displayName: "Professional",
        maxLeads: 50,
        maxMessages: Infinity,
        maxProducts: 20,
        features: ["20 Products Upload", "50 Leads", "Unlimited Messages"]
      },
      "premium": {
        name: "Couture Elite",
        displayName: "Premium",
        maxLeads: Infinity,
        maxMessages: Infinity,
        maxProducts: Infinity,
        features: ["Unlimited Products", "Unlimited Leads", "Unlimited Messages", "Dashboard Analytics"]
      },
      "pro": {
        name: "Couture Elite",
        displayName: "Premium",
        maxLeads: Infinity,
        maxMessages: Infinity,
        maxProducts: Infinity,
        features: ["Unlimited Products", "Unlimited Leads", "Unlimited Messages", "Dashboard Analytics"]
      }
    };

    function updateDashboardForPlan(plan, data) {
      const config = planConfig[plan.toLowerCase()] || planConfig.basic;

      const safeSetText = (id, text) => {
        const el = document.getElementById(id);
        if (el) el.textContent = text;
        else console.warn(`[Dashboard] Missing element: #${id}`);
      };

      // Update plan display
      safeSetText("planName", config.name);
      safeSetText("activePlan", config.displayName);

      // Update limits
      const leadsLimit = config.maxLeads === Infinity ? "âˆž" : config.maxLeads;
      const messagesLimit = config.maxMessages === Infinity ? "âˆž" : config.maxMessages;
      const productsLimit = config.maxProducts === Infinity ? "âˆž" : config.maxProducts;

      safeSetText("leadsLimit", leadsLimit);
      safeSetText("messagesLimit", messagesLimit);
      safeSetText("productsLimit", productsLimit);

      // Update leads remaining display
      if (config.maxLeads === Infinity) {
        safeSetText("leadsRemaining", "Leads Available");
        safeSetText("leadsRemainingCount", "âˆž");
        safeSetText("leadsTotal", "");
        safeSetText("quotaMessage", "Unlimited leads available");
        safeSetText("progressPercent", "âˆž");
        const pc = document.getElementById("progressCircle");
        if (pc) pc.style.strokeDashoffset = "0";
      } else {
        const leadsUsed = data.leadsUsed || 0;
        const leadsRemaining = Math.max(0, config.maxLeads - leadsUsed);
        const usagePercent = Math.round((leadsUsed / config.maxLeads) * 100);

        safeSetText("leadsRemainingCount", leadsRemaining);
        safeSetText("leadsTotal", `/ ${config.maxLeads}`);
        safeSetText("progressPercent", `${usagePercent}%`);

        // Calculate stroke offset for circular progress
        const strokeDashoffset = 251.2 * (1 - usagePercent / 100);
        const pc = document.getElementById("progressCircle");
        if (pc) pc.setAttribute("stroke-dashoffset", strokeDashoffset);
      }
    }

    function resolveAssetUrl(url) {
      const value = String(url || "").trim();
      if (!value) return "";
      if (/^https?:\/\//i.test(value)) return value;
      return `${value.startsWith("/") ? "" : "/"}${value}`;
    }

    function renderDashboardProducts(products) {
      const grid = document.getElementById("dashboardProductGrid");
      if (!grid) return;

      if (!Array.isArray(products) || !products.length) {
        grid.innerHTML = `
          <div class="col-span-full glass-card rounded-xl p-8 text-center text-slate-400 text-sm">
            No products found. Add products to preview them here.
          </div>
        `;
        return;
      }

      grid.innerHTML = products.slice(0, 4).map((p) => {
        const imgUrl = resolveAssetUrl((Array.isArray(p.gallery) && p.gallery[0]) || p.image_url);
        const stock = Number(p.stock || 0);

        return `
          <a href="boutiqueproducts.html" class="glass-card rounded-xl overflow-hidden group shadow-2xl relative cursor-pointer transition-all hover:shadow-lg block">
            <div class="relative aspect-[3/4] overflow-hidden group/img bg-primary/5">
              <img src="${imgUrl}" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" alt="${p.product_name || "Product"}">
            </div>
            <div class="p-6">
              <h4 class="font-display font-bold text-lg mb-1 uppercase tracking-tight truncate">${p.product_name || "Product"}</h4>
              <p class="text-primary font-bold text-xl mb-4 font-sans">â‚¹${Number(p.price || 0).toLocaleString("en-IN")} <span class="text-xs font-normal text-primary/50 uppercase">/ Day</span></p>
              <div class="flex flex-col gap-3 pt-4 border-t border-primary/10">
                <div class="flex items-center justify-between">
                  <span class="text-[10px] text-primary/40 font-bold uppercase tracking-widest">${p.location || "Default Location"}</span>
                  <span class="text-[10px] font-bold uppercase tracking-widest ${stock > 0 ? "text-emerald-400" : "text-red-400"}">${stock > 0 ? "Available" : "Out of Stock"}</span>
                </div>
              </div>
            </div>
          </a>
        `;
      }).join("");
    }

    async function loadDashboardProducts(boutiqueId) {
      const grid = document.getElementById("dashboardProductGrid");
      if (!grid) return;

      try {
        const res = await fetch(`/api/products/boutique/${boutiqueId}`);
        const data = await res.json();
        if (!res.ok) throw new Error(data.message || "Failed to load products");
        renderDashboardProducts(Array.isArray(data) ? data : []);
      } catch (err) {
        grid.innerHTML = `
          <div class="col-span-full glass-card rounded-xl p-8 text-center text-red-400 text-sm">
            ${err.message || "Failed to load products"}
          </div>
        `;
      }
    }

    document.addEventListener("DOMContentLoaded", async () => {
      const boutiqueId = localStorage.getItem("boutiqueId");
      const isLoggedIn = localStorage.getItem("isLoggedIn");

      // ðŸ”’ Protect dashboard
      if (isLoggedIn !== "true" || !boutiqueId) {
        window.location.href = "index.html";
        return;
      }

      try {
        const res = await fetch(
          `/api/auth/dashboard/${boutiqueId}`
        );

        if (!res.ok) throw new Error("API error");

        const data = await res.json();

        // ðŸ”¢ Dashboard data
        const safeSetText = (id, text) => {
          const el = document.getElementById(id);
          if (el) el.textContent = text;
        };

        safeSetText("totalLeads", data.totalLeads || 0);
        safeSetText("boutiqueName", `Welcome back to your atelier, ${data.boutiqueName}`);

        // Update stats based on plan
        safeSetText("leadsUsed", data.leadsUsed || 0);
        safeSetText("messagesUsed", data.messagesUsed || 0);
        safeSetText("productsUsed", data.productsUsed || 0);

        // ðŸ‘¤ Sidebar profile
        safeSetText("ownerName", data.ownerName);
        safeSetText("sidebarBoutiqueName", data.boutiqueName);

        // ðŸŽ­ Auto avatar (first letter)
        safeSetText("avatarCircle", data.ownerName ? data.ownerName.charAt(0).toUpperCase() : "U");

        // ðŸ“Š Update dashboard based on plan
        const userPlan = data.plan || "basic";
        updateDashboardForPlan(userPlan, data);

      } catch (err) {
        console.error("Dashboard Error:", err);
        alert("Failed to load dashboard data. Please try again later.");
        // Optionally redirect to login if there's an issue
        // window.location.href = "boutiquelogin.html";
      }

      // ðŸ†• FETCH RECENT ACTIVITY
      if (boutiqueId) {
        loadDashboardProducts(boutiqueId);
      }

      try {
        const leadsRes = await fetch(`/api/leads/list/${boutiqueId}`);
        if (leadsRes.ok) {
          const leads = await leadsRes.json();
          const recentLeads = leads.slice(0, 3); // Top 3

          const activityContainer = document.querySelector(".space-y-6");
          if (activityContainer && recentLeads.length > 0) {
            activityContainer.innerHTML = ""; // Clear hardcoded

            recentLeads.forEach(lead => {
              const timeAgo = new Date(lead.created_at || lead.date).toLocaleDateString();
              const initials = lead.name.split(" ").map(n => n[0]).join("").toUpperCase().substring(0, 2);

              const item = `
                      <div class="flex gap-4">
                          <div class="h-10 w-10 rounded bg-primary/10 flex items-center justify-center text-primary shrink-0 font-bold border border-primary/20">
                              ${initials}
                          </div>
                          <div>
                              <p class="text-sm text-slate-200">New lead: <strong>${lead.name}</strong></p>
                              <p class="text-xs text-slate-500 font-sans mt-0.5">${lead.category} â€¢ ${timeAgo}</p>
                          </div>
                      </div>
                  `;
              activityContainer.insertAdjacentHTML("beforeend", item);
            });
          } else if (activityContainer) {
            activityContainer.innerHTML = `<p class="text-slate-500 text-sm">No recent activity.</p>`;
          }
        }
      } catch (err) {
        console.error("Failed to load recent activity", err);
      }
    });

    function logout() {
      localStorage.clear();
      window.location.href = "boutiquelogin.html";
    }

    // Populate sidebar profile on page load
    document.addEventListener("DOMContentLoaded", () => {
      const ownerName = localStorage.getItem("ownerName") || "Guest";
      const boutiqueName = localStorage.getItem("boutiqueName") || "My Boutique";

      const avatarCircle = document.getElementById("avatarCircle");
      const ownerNameEl = document.getElementById("ownerName");
      const sidebarBoutiqueName = document.getElementById("sidebarBoutiqueName");
      
      if (avatarCircle) avatarCircle.textContent = ownerName.charAt(0).toUpperCase();
      if (ownerNameEl) ownerNameEl.textContent = ownerName;
      if (sidebarBoutiqueName) sidebarBoutiqueName.textContent = boutiqueName;

      // Scroll active nav item into view
      const activeNavItem = document.querySelector(".sidebar-item-active");
      if (activeNavItem) {
        activeNavItem.scrollIntoView({ block: "nearest", behavior: "smooth" });
      }
    });
  </script>
  <script>
    function logout() {
      localStorage.clear();
      window.location.href = "index.html";
    }
  </script>




</body>

</html>


